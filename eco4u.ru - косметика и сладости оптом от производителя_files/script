function CloudParserMobileCheck(){var n=!1;return function(t){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(n=!0)}(navigator.userAgent||navigator.vendor||window.opera),n}function CloudParserWidget(n){var r,e,t,u,f,i;if(this._DEBUG=!1,this.options=Object.create(n),this._normalizeOptions(),this.stopInit=!1,this.mobile=CloudParserMobileCheck(),this.options.hideOnMobile&&this.mobile){this.stopInit=!0;return}if(this.authLogin="",this.parseID=0,this.siteID="11762",this.domain="cloudparser.ru",this.bookmarkletMode=!1,this.pagingAvailable=!0,this.parseDivisions=!0,this.groupMode=!0,this.customWidgets=[{ID:4,Title:"Грабли",Icon:"grably-parser.png",Domain:"grably-parser.ru",Script:'<script src="https://grably-parser.ru/js/parser_widget.js" type="text/javascript" data-uuid="cc8fb8cb-a985-5bba-860e-345738a4c4d4" data-position="position-bottom-left" data-color="#fdc049" data-style="background-color: #fdc049; color: white"><\/script>'},{ID:2,Title:"Sliza",Icon:"sliza.png",Domain:"sliza.ru",Script:'<!-- Sliza.ru - Widget -->\r\n                <script type="text/javascript" src="https://sliza.ru/widget.php?id=5569&h=ed79d5154983b0721ba0ad2f56315585&t=s" async defer><\/script>\r\n                <!-- /// -->'},{ID:3,Title:"Турбо.Парсер",Icon:"turboparser.png",Domain:"turboparser.ru",Script:"<script type='text/javascript'>(function(a,b,c,d){var s = document.createElement(a); s.type = b; s.async = true; s.src = c; var ss = document.getElementsByTagName(d)[0]; ss.parentNode.insertBefore(s, ss);})('script', 'text/javascript', 'https://turboparser.ru/parser/widget/loader?hash=51c4ee54a25ef9de3ab04c1eff48d3a1&ts='+Date.now(), 'script');<\/script>"},{ID:5,Title:"ВЗакупке",Icon:"vzakupke.png",Domain:"vzakupke.com",Script:'<script position="left" type="text/javascript" src="https://vzakupke.com/widget/assets/js/initSiteWidget.js" charset="UTF-8"><\/script>'}],this.allPages=!1,this.frameDomainUrl="https://frame."+this.domain,this.cssUrl="https://"+this.domain+"/js/external/widget.min.css?v=637365221765986780",this.widgetImgPath="https://"+this.domain+"/img/widget/",this.responsesText="1 отзыв",this.rating=0,this.called=!1,this.listenerAdded=!1,this.readFromCache=!0,this.parseWithoutCacheSourceID=null,this.removeJqStylerCount=0,this.analyticsType=1,this.analyticsSettingsSerialized='{"Code":53198230,"Target":"66987826"}',this.analyticsSettings=null,this.analyticsSettingsSerialized&&this.analyticsSettingsSerialized.length>0)try{this.analyticsSettings=JSON.parse(this.analyticsSettingsSerialized)}catch(o){console.log(o.message);console.log(this.analyticsSettingsSerialized)}if(this.styleHtml="<style> .cp_widget{visibility: hidden; -ms-opacity: 0; opacity: 0; } <\/style><style id='cp_dynamicStyle'><\/style>",this.buttonHtml=" <div class='cp_btn' id='cp_btn'><span id='cp_btn_text'>"+this._getSmallButtonText()+"<\/span> <\/div>",this.closeIconHtml="<svg xml:space='preserve' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' viewBox='0 0 32 32' style='enable-background:new 0 0 32 32;'><g transform='translate(362.27119,262.54237)' id='ico'><polyline points='-356.3,-233.8 -358.2,-235.7 -335.6,-258.3 -333.7,-256.4 -356.3,-233.8' id='l1' class='st0' /><polyline points='-335.6,-233.8 -358.2,-256.4 -356.3,-258.3 -333.7,-235.7 -335.6,-233.8' id='l2' class='st0'/><\/g><\/svg>",this.historyIconHtml="<svg width='17px' height='17px' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 448 448' style='enable-background:new 0 0 448 448;' xml:space='preserve'><g><polygon points='234.667,138.667 234.667,245.333 325.973,299.52 341.333,273.6 266.667,229.333 266.667,138.667'/><path d='M255.893,32C149.76,32,64,117.973,64,224H0l83.093,83.093l1.493,3.093L170.667,224h-64 c0-82.453,66.88-149.333,149.333-149.333S405.333,141.547,405.333,224S338.453,373.333,256,373.333 c-41.28,0-78.507-16.853-105.493-43.84L120.32,359.68C154.987,394.453,202.88,416,255.893,416C362.027,416,448,330.027,448,224 S362.027,32,255.893,32z'/><\/g><\/svg>",this.externalIconHtml="<svg width='14px' height='14px' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 511.627 511.627' style='enable-background:new 0 0 511.627 511.627;' xml:space='preserve'><g><path d='M392.857,292.354h-18.274c-2.669,0-4.859,0.855-6.563,2.573c-1.718,1.708-2.573,3.897-2.573,6.563v91.361 c0,12.563-4.47,23.315-13.415,32.262c-8.945,8.945-19.701,13.414-32.264,13.414H82.224c-12.562,0-23.317-4.469-32.264-13.414 c-8.945-8.946-13.417-19.698-13.417-32.262V155.31c0-12.562,4.471-23.313,13.417-32.259c8.947-8.947,19.702-13.418,32.264-13.418 h200.994c2.669,0,4.859-0.859,6.57-2.57c1.711-1.713,2.566-3.9,2.566-6.567V82.221c0-2.662-0.855-4.853-2.566-6.563 c-1.711-1.713-3.901-2.568-6.57-2.568H82.224c-22.648,0-42.016,8.042-58.102,24.125C8.042,113.297,0,132.665,0,155.313v237.542 c0,22.647,8.042,42.018,24.123,58.095c16.086,16.084,35.454,24.13,58.102,24.13h237.543c22.647,0,42.017-8.046,58.101-24.13 c16.085-16.077,24.127-35.447,24.127-58.095v-91.358c0-2.669-0.856-4.859-2.574-6.57 C397.709,293.209,395.519,292.354,392.857,292.354z'/>\t<path d='M506.199,41.971c-3.617-3.617-7.905-5.424-12.85-5.424H347.171c-4.948,0-9.233,1.807-12.847,5.424 c-3.617,3.615-5.428,7.898-5.428,12.847s1.811,9.233,5.428,12.85l50.247,50.248L198.424,304.067 c-1.906,1.903-2.856,4.093-2.856,6.563c0,2.479,0.953,4.668,2.856,6.571l32.548,32.544c1.903,1.903,4.093,2.852,6.567,2.852 s4.665-0.948,6.567-2.852l186.148-186.148l50.251,50.248c3.614,3.617,7.898,5.426,12.847,5.426s9.233-1.809,12.851-5.426 c3.617-3.616,5.424-7.898,5.424-12.847V54.818C511.626,49.866,509.813,45.586,506.199,41.971z'/><\/g><\/svg>",this.authLoginHtml='<div class="cp_widget__authlogin" id="cp_widget__authlogin"><div class=\'cp_widget__authlogin-text\' id=\'cp_widget__authlogin-text\'>Вход от имени:<\/div><a class="cp_widget__authlogin-link" id="cp_widget__authlogin-link"> <span class="cp_widget__authlogin-label" id="cp_widget__authlogin-label" title="Логин, под которым производится выгрузка"><\/span> <span class="cp_widget__authlogin-logout" id="cp_widget__authlogin-logout" title="Выйти"><svg width="13px" height="13px" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 471.2 471.2" style="enable-background:new 0 0 471.2 471.2;" xml:space="preserve"><g><g><path d="M227.619,444.2h-122.9c-33.4,0-60.5-27.2-60.5-60.5V87.5c0-33.4,27.2-60.5,60.5-60.5h124.9c7.5,0,13.5-6,13.5-13.5s-6-13.5-13.5-13.5h-124.9c-48.3,0-87.5,39.3-87.5,87.5v296.2c0,48.3,39.3,87.5,87.5,87.5h122.9c7.5,0,13.5-6,13.5-13.5S235.019,444.2,227.619,444.2z"/><path d="M450.019,226.1l-85.8-85.8c-5.3-5.3-13.8-5.3-19.1,0c-5.3,5.3-5.3,13.8,0,19.1l62.8,62.8h-273.9c-7.5,0-13.5,6-13.5,13.5s6,13.5,13.5,13.5h273.9l-62.8,62.8c-5.3,5.3-5.3,13.8,0,19.1c2.6,2.6,6.1,4,9.5,4s6.9-1.3,9.5-4l85.8-85.8C455.319,239.9,455.319,231.3,450.019,226.1z"/><\/g><\/g><\/svg><\/span><\/a><\/div>',this.ratingHtml=this._getRatingHtml("cp_widget"),this.ratingGroupedHtml=this._getRatingHtml("cp_groupedwidget"),this.parseDivisionsHtml="",this.parseDivisions&&(this.parseDivisionsHtml="<a class='cp_widget__btn cp_widget__startallbtn' id='cp_widget__startallbtn' title='Выгрузить весь каталог, конкретные разделы или указать свои ссылки'>Выгрузить все товары<\/a>"),this.headerText=this.siteID>0?"Откройте каталог товаров<br/> чтобы выгрузить раздел":"Сайт отсутствует<br> в каталоге поставщиков",this.extraCssClass="",this.siteID==0&&(this.extraCssClass=" cp_widget_nosite"),this.widgetHtml="<div class='cp_widget"+this.extraCssClass+"' id='cp_widget'><div class='cp_widget__closebtn' id='cp_widget__closebtn'>"+this.closeIconHtml+"<\/div><div class='cp_widget__top'><div class='cp_widget__header'>"+this.headerText+"<\/div><\/div> <div class='cp_widget__bottom'><div class='cp_widget__export'>"+this.authLoginHtml+"<div class='cp_widget__pages' id='cp_widget__pages' title='Выгружать все страницы или только текущую'><label for='cp_widget__pages-checkbox' class='cp_widget__pages-text' id='cp_widget__pages-text'>Все страницы раздела<\/label><label class='cp_widget__switch'><input type='checkbox' id='cp_widget__pages-checkbox' class='cp_widget__checkbox' checked='checked'><span class='cp_widget__slider'><\/span><\/label><\/div ><div class='cp_widget__buttons'><a class='cp_widget__btn cp_widget__startbtn' id='cp_widget__startbtn' title='Выгрузить текущий раздел'>Выгрузить раздел<\/a>"+this.parseDivisionsHtml+"<a class='cp_widget__btn cp_widget__demobtn' id='cp_widget__demobtn' style='display:none;' title='Загрузка с ограничением в 10 товаров для демонстрации работы'>Пробная загрузка<\/a><a class='cp_widget__historybtn' id='cp_widget__historybtn' title='Перейти к моим загрузкам'>"+this.historyIconHtml+" Мои загрузки<\/a><\/div>"+this.ratingHtml+"<\/div>",this.siteID==0&&(this.widgetHtml+="<div class='cp_widget__nosite-text'>Для загрузки товаров с данного сайта подайте заявку на его добавление в каталог поставщиков.<\/div><a class='cp_widget__btn cp_widget__nositebtn' id='cp_widget__nositebtn' href='https://"+this.domain+"/catalog#opensiteorderform' target='_blank'>Добавить сайт<\/a>"),this.widgetHtml+="<\/div><div class='cp_widget__footer'>Сервис предоставляет <a href='https://"+this.domain+"/?from=widget' target='_blank'>Облачный парсер<\/a><\/div><\/div>",this.groupedWidgetHtml="",this.customWidgetsStyle="",this.customWidgetsStyleAdded=!1,r="",this.customWidgetButtonList=[{ID:2,button:["#sliza-wgt-button","#sliza_widget_btn"],css:".sliza_widget_btn_back,.sliza_widget_btn_ovr,#sliza-wgt-button {display:none; visibility: hidden;} #sliza-wgt-button.opened { display: block; visibility: visible; }"},{ID:3,button:"#turboparser_widget_button",css:"#turboparser_widget_button {display:none !important; visibility: hidden;}"},{ID:4,button:"#grably-parse-button",css:"#grably-parse-button {display:none !important; visibility: hidden;} #grably-frame.full-screen { width: 100%; height: 100%; top: 0; left: 0; }"},{ID:5,button:"#vz-widget-btn",css:"#vz-widget-btn {display:none !important; visibility: hidden;}"},{ID:6,button:"#parser-plus-widget-btn",css:"#parser-plus-widget-btn {display:none !important; visibility: hidden;}"},{ID:8,button:".bestsp_widget__action__button",css:".bestsp_widget__action__button {display:none !important; visibility: hidden;}"},{ID:10,button:"#qparser_widget_button",css:"#qparser_widget_button {display:none !important; visibility: hidden;}"}],this.groupMode){for(e=134,r+="<a class='cp_groupedwidget__button' data-index=0 style='background-image: url("+this.widgetImgPath+"cloudparser2.png);'>Облачный парсер<\/a>\r\n",t=0;t<this.customWidgets.length;t++){for(u=this.customWidgets[t],i=0;i<this.customWidgetButtonList.length;i++)if(this.customWidgetButtonList[i].ID===u.ID){f=this.customWidgetButtonList[i].css;break}typeof f!="undefined"&&f&&(this.customWidgetsStyle+=f+"\r\n");r+="<a class='cp_groupedwidget__button' data-index="+(t+1)+" style='background-image: url("+this.widgetImgPath+u.Icon+");'>"+u.Title+"<\/a>\r\n";e+=50}this.customWidgetsStyle=this.customWidgetsStyle+" @media only screen and (max-width: 480px) {.cp_groupedwidget {margin-top: -"+e/2+"px!important; }}";this.groupedWidgetHtml="<style id='cp_parsersStyle'><\/style><div class='cp_groupedwidget' id='cp_groupedwidget'>  <div class='cp_groupedwidget__closebtn' id='cp_groupedwidget__closebtn'>"+this.closeIconHtml+"<\/div>  <div class='cp_groupedwidget__header'>Выберите парсер<\/div>  <div class='cp_groupedwidget__buttons'>"+r+"  <\/div>  <div class='cp_groupedwidget__bottom'>"+this.ratingGroupedHtml+"  <\/div>  <div id='cp_groupedwidget_scriptContainer' style='display:none;'><\/div>  <div class='cp_groupedwidget__footer'>Сервис предоставляет <a href='https://"+this.domain+"/?from=widget' target='_blank'>Облачный парсер<\/a><\/div><\/div>"}this.parseContainerHtml='<div class="cp_frame_container" style="-webkit-overflow-scrolling: touch; overflow: auto;"><div class="cp_close_container_btn" id="cp_close_container_btn">&times;<\/div><\/div>';this.container=null;this.parseContainer=null;this.parseFrame=null;this.frameWindow=null;this.minimizedbtn=null;this.widget={};this.widgetEl=null;this.widget.closebtn=null;this.widget.startbtn=null;this.widget.startallbtn=null;this.widget.demobtn=null;this.widget.historybtn=null;this.widget.authloginBlock=null;this.widget.authloginLabel=null;this.widget.authloginLogout=null;this.widget.authloginLink=null;this.widget.pagesBlock=null;this.widget.pagesCheckbox=null;this.widget.pagesText=null;this.widget.ratingLink=null;this.groupedwidget={};this.groupedwidget.closebtn=null;this.groupedwidget.ratingLink=null}function cloudParser(n,t,i){var u={position:n,color:t.toLowerCase(),hideOnMobile:i},r=new CloudParserWidget(u);r.init();typeof cloudparserWidgetObject!="undefined"&&window.cloudparserWidgetObject||(window.cloudparserWidgetObject=r);return}!function(){function n(n){this.el=n;for(var r=n.className.replace(/^\s+|\s+$/g,"").split(/\s+/),t=0;t<r.length;t++)i.call(this,r[t])}function r(n,t,i){Object.defineProperty?Object.defineProperty(n,t,{get:i}):n.__defineGetter__(t,i)}if(!(void 0===window.Element||"classList"in document.documentElement)){var t=Array.prototype,i=t.push,u=t.splice,f=t.join;n.prototype={add:function(n){this.contains(n)||(i.call(this,n),this.el.className=this.toString())},contains:function(n){return-1!=this.el.className.indexOf(n)},item:function(n){return this[n]||null},remove:function(n){if(this.contains(n)){for(var t=0;t<this.length&&this[t]!=n;t++);u.call(this,t,1);this.el.className=this.toString()}},toString:function(){return f.call(this," ")},toggle:function(n){return this.contains(n)?this.remove(n):this.add(n),this.contains(n)}};window.DOMTokenList=n;r(Element.prototype,"classList",function(){return new n(this)})}}();String.prototype.trim||function(){String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}}();CloudParserWidget.prototype._getRatingHtml=function(n){var t='<div class="cp_widget__rating" id="'+n+'__rating">',r,i;return this.siteID>0&&(this.rating>=0?(r=this._getRoundedRating(this.rating),i="Рейтинг поставщика: "+this.rating,this.rating===0&&(i+=". Формируется при наличии не менее 3-х отзывов."),t=t+'<a class="cp_widget__rating-stars" title="'+i+'"> <div class="cp_widget__rating-stars-top" style="width: '+r*20+'%">   <span>★<\/span><span>★<\/span><span>★<\/span><span>★<\/span><span>★<\/span><\/div> <div class="cp_widget__rating-stars-btm">   <span>★<\/span><span>★<\/span><span>★<\/span><span>★<\/span><span>★<\/span> <\/div><\/a><a class="cp_widget__rating-resp" id="cp_widget__rating-resp" title="Отзывы о поставщике на Облачном парсере">'+this.responsesText+"<\/a>"):t=t+'<a class="cp_widget__rating-resp" id="cp_widget__rating-resp" title="Перейти на страницу поставщика на Облачном парсере">'+this.externalIconHtml+" Страница поставщика<\/a>"),t+"<\/div>"};CloudParserWidget.prototype.init=function(){var t,n,i;this.stopInit||(this._DEBUG&&console.log("frame.init"),t=document.getElementById("cp_style"),typeof t!="undefined"&&t?this._addContainer():(n=document.createElement("link"),n.id="cp_style",n.setAttribute("rel","stylesheet"),n.setAttribute("type","text/css"),n.setAttribute("href",this.cssUrl),i=this,n.onload=function(){i._addContainer()},document.getElementsByTagName("head")[0].appendChild(n)))};CloudParserWidget.prototype.setColor=function(n){var i="#cp_btn,#cp_widget,#cp_widget__startbtn,.cp_groupedwidget__header {background-color: "+n+" !important}#cp_widget__startallbtn,#cp_widget__demobtn {color: "+n+"; border-color: "+n+" !important;}#cp_widget__startallbtn:hover,#cp_widget__demobtn:hover {background-color: "+n+" !important; color: #fff !important;}.cp_widget__switch input:checked + .cp_widget__slider { background-color: "+n+" !important; } .cp_widget__switch input:focus + .cp_widget__slider { box-shadow: 0 0 1px "+n+" !important;  }",t=document.getElementById("cp_dynamicStyle");t&&(t.innerHTML=i)};CloudParserWidget.prototype.activateWidget=function(){var n=!1;this.container.classList.contains("widget-active")?n=!0:this.container.classList.add("widget-active");this.groupMode&&this.container.classList.contains("cp_group-mode")&&(this.container.classList.remove("cp_group-mode"),n=!1);n&&window.cloudparserWidgetObject.swing()};CloudParserWidget.prototype.swing=function(){this.widgetEl.classList.remove("cp-widget-swing");var n=this;setTimeout(function(){n.widgetEl.classList.add("cp-widget-swing")},10)};CloudParserWidget.prototype.activeBookmarketMode=function(){this.bookmarkletMode=!0;this.widget.demobtn.style.display="block"};CloudParserWidget.prototype._addContainer=function(){if(this.container=document.getElementById("cp_container"),typeof this.container!="undefined"&&this.container)this.bookmarkletMode&&(window.cloudparserWidgetObject.activeBookmarketMode(),window.cloudparserWidgetObject.activateWidget());else{this.container=document.createElement("div");this.container.className="cp_container "+this.options.position;this.pagingAvailable===!0&&(this.container.className+=" cp_paging_available");this.groupMode===!0&&(this.container.className+=" cp_group-mode");this.container.id="cp_container";this.container.style.cssText="display: block !important; transform: none!important; opacity: 1!important;";this.container.setAttribute("data-title","ПАРСЕРАМ. Убедительно просим другие сервисы парсинга не определять в собственных стилях скрытие нашего виджета, в случае обнаружения будем вынуждены предпринять аналогичные меры. Скрытие стилями ведет к невозможности использовать кнопку из закладок.");this.container.innerHTML=this.styleHtml+this.buttonHtml+this.widgetHtml+this.groupedWidgetHtml;var n=this;document.body?(document.body.appendChild(this.container),this._initUI(),this._bindHandlers(),this._afterLoadEvents(),this.bookmarkletMode==!0&&(n.activeBookmarketMode(),n._toggle())):document.addEventListener&&document.addEventListener("DOMContentLoaded",function(){n.called||(n._DEBUG&&console.log("frame.DOMContentLoaded"),n.called=!0,document.body.appendChild(n.container),n._initUI(),n._bindHandlers(),n._afterLoadEvents(),n.bookmarkletMode==!0&&(n.activeBookmarketMode(),n._toggle()))},!1)}};CloudParserWidget.prototype._initUI=function(){this.parseContainer=this.parseContainer?document.getElementById("cp_parse_container"):this.parseContainer;this.minimizedbtn=document.getElementById("cp_btn");this.widgetEl=document.getElementById("cp_widget");this.widget.closebtn=document.getElementById("cp_widget__closebtn");this.widget.startbtn=document.getElementById("cp_widget__startbtn");this.widget.startallbtn=document.getElementById("cp_widget__startallbtn");this.widget.demobtn=document.getElementById("cp_widget__demobtn");this.widget.historybtn=document.getElementById("cp_widget__historybtn");this.widget.authloginBlock=document.getElementById("cp_widget__authlogin");this.widget.authloginLabel=document.getElementById("cp_widget__authlogin-label");this.widget.authloginLogout=document.getElementById("cp_widget__authlogin-logout");this.widget.authloginLink=document.getElementById("cp_widget__authlogin-link");this._setAutoStartLogin();this.widget.pagesBlock=document.getElementById("cp_widget__pages");this.widget.pagesCheckbox=document.getElementById("cp_widget__pages-checkbox");this.widget.pagesText=document.getElementById("cp_widget__pages-text");this._initPagesBlockState();this.widget.ratingLink=document.getElementById("cp_widget__rating");this.groupedwidget.ratingLink=document.getElementById("cp_groupedwidget__rating");this.setColor(this.options.color);var n=this;this._addEvent(window,"resize",function(){n._onResize()});this._onResize();this.groupMode&&(this.groupedwidget.closebtn=document.getElementById("cp_groupedwidget__closebtn"),window.location.host!==this.domain&&this._addCustomScripts())};CloudParserWidget.prototype._bindHandlers=function(){var i=this,n,t;if(this.minimizedbtn.addEventListener("click",CloudParserWidget.prototype._toggle.bind(this)),this.widget.closebtn.addEventListener("click",CloudParserWidget.prototype._toggle.bind(this)),this.widget.startbtn.addEventListener("click",function(n){i._startParse(n,!1,!1)}),this.widget.startallbtn&&this.widget.startallbtn.addEventListener("click",function(n){i._startParse(n,!0,!1)}),this.widget.demobtn&&this.widget.demobtn.addEventListener("click",function(n){i._startParse(n,!1,!0)}),this.widget.historybtn.addEventListener("click",CloudParserWidget.prototype._openHistory.bind(this)),this.widget.authloginLink.addEventListener("click",CloudParserWidget.prototype._setParseAuthLogin.bind(this,"")),this.widget.pagesCheckbox.addEventListener("change",CloudParserWidget.prototype._pagesCheckboxChanged.bind(this)),this.widget.ratingLink.addEventListener("click",CloudParserWidget.prototype._openStartPage.bind(this)),this.groupMode&&(this.groupedwidget.closebtn.addEventListener("click",CloudParserWidget.prototype._toggle.bind(this)),this.groupedwidget.ratingLink.addEventListener("click",CloudParserWidget.prototype._openStartPage.bind(this)),n=document.querySelectorAll(".cp_groupedwidget__button"),typeof n!="undefined"&&n))for(t=0;t<n.length;t++)n[t].addEventListener("click",CloudParserWidget.prototype._customWidgetButtonClick.bind(this))};CloudParserWidget.prototype._addCustomScripts=function(){var t=document.getElementById("cp_groupedwidget_scriptContainer"),n;if(typeof t!="undefined"&&t)for(n=0;n<this.customWidgets.length;n++)t.innerHTML+="<div class='cp_groupedwidget_script' data-index="+(n+1)+">"+this.customWidgets[n].Script+"<\/div>"};CloudParserWidget.prototype._customWidgetButtonClick=function(n){function f(){var n=document.createEvent("Event");n.initEvent("DOMContentLoaded",!0,!0);document.dispatchEvent(n)}var u=n.target,t=parseInt(u.getAttribute("data-index")),i,r;t===0&&this._toggleGroupMode();i=this;r=function(){f();i._onCustomWidgetButtonClick(t)};this._runCustomScript(t,r)};CloudParserWidget.prototype._onCustomWidgetButtonClick=function(n){function e(n,t,i){var u,r;for(i===undefined&&(i=100),t===undefined&&(t=50),u=0;u<n.length;u++)if(r=n[u].substring(0,1)==="#"?document.getElementById(n[u].substring(1)):document.querySelector(n[u]),typeof r!="undefined"&&r){if(r.id&&r.id.indexOf("sliza")>-1&&!window.jQueryWgt)break;setTimeout(function(){r.style="";setTimeout(function(){r.click()},100)},100);return}setTimeout(function(){i?e(n,t,i-1):error!==undefined&&error()},t)}var u,t,i,r,f;if(n!==0&&window.location.host!==this.domain&&(u=this.customWidgets[n-1].ID,u!==0)){for(i=0;i<this.customWidgetButtonList.length;i++)if(this.customWidgetButtonList[i].ID===u){t=this.customWidgetButtonList[i].button;break}typeof t!="undefined"&&t&&(r=[],Array.isArray(t)?r=t:r.push(t),f=100,e(r,f,6e4/f));this._toggle()}};CloudParserWidget.prototype._runCustomScript=function(n,t){function s(n,t){var i=document.createElement("script");i.type="text/javascript";n.src?(i.onload=t,i.onerror=t,i.src=n.src):i.textContent=n.innerText;document.head.appendChild(i);n.parentNode.removeChild(n);n.src||t()}function h(n,t){if(typeof n!="undefined"&&n){var i=n.getAttribute("type");i&&["application/javascript","application/ecmascript","application/x-ecmascript","application/x-javascript","text/ecmascript","text/javascript","text/javascript1.0","text/javascript1.1","text/javascript1.2","text/javascript1.3","text/javascript1.4","text/javascript1.5","text/jscript","text/livescript","text/x-ecmascript","text/x-javascript"].indexOf(i)===-1||s(n,t)}}var e=document.getElementById("cp_groupedwidget_scriptContainer"),i,r,u,o,f;if(typeof e!="undefined"&&e&&(i=e.querySelectorAll(".cp_groupedwidget_script"),typeof i!="undefined"&&i&&i.length!==0)){for(u=0;u<i.length;u++)if(parseInt(i[u].getAttribute("data-index"))===n){r=i[u];break}if(typeof r!="undefined"&&r){if(o=r.getAttribute("data-loaded"),typeof o!="undefined"&&o){t();return}(r.setAttribute("data-loaded",!0),f=r.querySelector("script"),typeof f!="undefined"&&f)&&h(f,t)}}};CloudParserWidget.prototype._toggle=function(){if(this.container.classList.toggle("widget-active"),this.groupMode&&!this.container.classList.contains("cp_group-mode")&&this.container.classList.add("cp_group-mode"),this.groupMode&&!this.customWidgetsStyleAdded){var n=document.getElementById("cp_parsersStyle");typeof n!="undefined"&&n&&(n.innerHTML=this.customWidgetsStyle);this.customWidgetsStyleAdded=!0}};CloudParserWidget.prototype._toggleGroupMode=function(){this.container.classList.toggle("cp_group-mode")};CloudParserWidget.prototype._setVisible=function(n){this._DEBUG&&console.log("frame._setVisible ",n);var t=this.container.classList.contains("widget-hidden");n===!0?t&&this.container.classList.toggle("widget-hidden"):t||this.container.classList.toggle("widget-hidden")};CloudParserWidget.prototype._startParse=function(n,t,i){var u,r,f,e;return this._DEBUG&&console.log("frame._startParse"),u=!0,typeof this.readFromCache!="undefined"&&this.readFromCache===!1&&(u=!1),r=n?n:window.event,f=r&&r.ctrlKey&&r.altKey,this._doClientAnalytics(t,f,i),e=this._getParseUrl(t,f,i),this._DEBUG&&console.log(e),this._initFrame(e,u),!0};CloudParserWidget.prototype._doClientAnalytics=function(n,t,i){var r,u;if(this.analyticsType!=0&&this.analyticsSettings&&this.analyticsType==1&&this.analyticsSettings.Code&&this.analyticsSettings.Target){r={btnType:"startCurrent"};n?r.btnType="startAll":i&&(r.btnType="startDemo");try{typeof ym!="undefined"&&ym?ym(this.analyticsSettings.Code,"reachGoal",this.analyticsSettings.Target,r):(u=window["yaCounter"+this.analyticsSettings.Code],u&&u.reachGoal(this.analyticsSettings.Target,r))}catch(f){console.log(f.message)}}};CloudParserWidget.prototype._openHistory=function(){this._DEBUG&&console.log("frame._openHistory");this._DEBUG&&console.log(this._getHistoryUrl());this._initFrame(this._getHistoryUrl(),!0)};CloudParserWidget.prototype._initFrame=function(n,t){var f=navigator.userAgent.match(/iPad/i)!=null,i,r,u;if(window.location.host===this.domain)return!1;(typeof this.readFromCache=="undefined"||this.readFromCache===!0)&&(this._toggle(),this._setVisible(!1));this._addFramePane();typeof this.parseContainer!="undefined"&&this.parseContainer?(this._DEBUG&&console.log("frame._parseContainer exists"),this.parseFrame.setAttribute("src",n),i=this,setTimeout(function(){i.parseContainer.style.display="block"},200)):(this._DEBUG&&console.log("frame.create _parseContainer"),this.parseContainer=document.createElement("div"),this.parseContainer.id="cp_parse_container",this.parseContainer.className="cp_parse_container"+(this.mobile?" cp_parse_container-mobile":""),this.parseContainer.innerHTML=this.parseContainerHtml,this.parseFrame=document.createElement(document.body.tagName=="FRAMESET"?"frame":"iframe"),this.parseFrame.setAttribute("id","cp_frame"),this.parseFrame.setAttribute("src",n),this.parseContainer.children[0].appendChild(this.parseFrame),document.body.appendChild(this.parseContainer),r=document.getElementById("cp_close_container_btn"),r.addEventListener("click",CloudParserWidget.prototype._closeParseFrame.bind(this)),u=this.parseFrame.contentWindow,this.frameWindow=u,t&&!this.listenerAdded&&(window.addEventListener?(this._DEBUG&&console.log("frame.window.addEventListener"),window.addEventListener("message",CloudParserWidget.prototype._listener.bind(this),!1)):(this._DEBUG&&console.log("frame.window.attachEvent"),window.attachEvent("onmessage",CloudParserWidget.prototype._listener.bind(this))),this.listenerAdded=!0))};CloudParserWidget.prototype._addFramePane=function(){document.body&&(document.body.className=(document.body.className+" cp_container_pane").trim());document.documentElement&&(document.documentElement.className=(document.documentElement.className+" cp_container_pane").trim())};CloudParserWidget.prototype._removeFramePane=function(){document.body&&document.body.className&&(document.body.className=document.body.className.replace("cp_container_pane","").trim());document.documentElement&&document.documentElement.className&&(document.documentElement.className=document.documentElement.className.replace("cp_container_pane","").trim())};CloudParserWidget.prototype._addEvent=function(n,t,i){typeof n!="undefined"&&n!=null&&(n.addEventListener?n.addEventListener(t,i,!1):n.attachEvent?n.attachEvent("on"+t,i):n["on"+t]=i)};CloudParserWidget.prototype._listener=function(n){var t,i,u,r,f;try{t=JSON.parse(n.data)}catch(e){}if(typeof t!="undefined"&&t){this._DEBUG&&console.log("frame.messageType ",t.messageType);i=document.documentElement.outerHTML;try{encodeURIComponent(i)}catch(o){for(u=[],r=0;r<i.length;r++)try{encodeURIComponent(i[r]);u.push(i[r])}catch(o){}i=u.join("")}if(t.messageType==="cp_getDataForParse"){f={html:i,cookie:document.cookie,url:location.href,userAgent:navigator.userAgent,onlyCurrentPage:!this.allPages,isBookmarklet:this.bookmarkletMode,readFromCache:this.readFromCache};this._postMessageToFrame("cp_startParse",f);return}if(t.messageType==="cp_saveParseID"){this.parseID=t.parseID;return}if(t.messageType==="cp_cancelParse"){this._postMessageToFrame("cp_cancelParse",this.parseID);this._closeParseFrame();return}if(t.messageType==="cp_parseInBackground"){this._closeParseFrame();return}if(t.messageType==="cp_finishParse"){this.parseID=0;this.readFromCache=!0;this.parseWithoutCacheSourceID=null;return}if(t.messageType==="cp_saveParseAuthLogin"){this._setParseAuthLogin(t.login);return}if(t.messageType==="cp_startParseWithoutCache"){this.readFromCache=!1;this.parseWithoutCacheSourceID=t.parseID;this._startParse();return}}};CloudParserWidget.prototype._postMessageToFrame=function(n,t){if(this._DEBUG&&console.log("frame._postMessageToFrame.message.data ",n,t),this.frameWindow){t||(t={});t.messageType=n;try{this.frameWindow.postMessage(JSON.stringify(t),this.frameDomainUrl)}catch(i){console.log("frame.error on _postMessageToFrame:",i.message)}}};CloudParserWidget.prototype._closeParseFrame=function(){if(this._DEBUG&&console.log("frame._closeParseFrame"),this.parseContainer){this.parseContainer.style.display="none";var n=this;setTimeout(function(){n._DEBUG&&console.log("frame._closeParseFrame.removeParseContainer");n.parseContainer&&n.parseContainer.parentElement&&(n.parseContainer.parentElement.removeChild(n.parseContainer),n.parseContainer=null)},500)}this._removeFramePane();this._setVisible(!0)};CloudParserWidget.prototype._cancelParse=function(){this._DEBUG&&console.log("frame._cancelParse:",this.parseID);this.parseID&&this.parseID>0&&this._postMessageToFrame("cp_cancelParse",{parseID:this.parseID});this._closeParseFrame()};CloudParserWidget.prototype._openStartPage=function(){if(!(this.siteID<=0)){var n="//"+this.domain+"/catalog/"+this.siteID;this.rating>=0&&(n=n+"/responses");window.open(n,"_blank")}};CloudParserWidget.prototype._getCookie=function(n){var t=document.cookie.match(new RegExp("(?:^|; )"+n.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):undefined};CloudParserWidget.prototype._getParseAuthLogin=function(){return this._getCookie("cp_AuthLogin")};CloudParserWidget.prototype._setParseAuthLogin=function(n){this._DEBUG&&console.log("frame._setParseAuthLogin:",n);typeof n!="undefined"&&n||(n="");var t=new Date;t.setYear(t.getFullYear()+1);document.cookie="cp_AuthLogin="+n+"; path=/; expires="+t.toUTCString();this._setAutoStartLogin()};CloudParserWidget.prototype._setAutoStartLogin=function(){var n=this._getParseAuthLogin(),t;typeof n!="undefined"&&n||(n="");t="none";n!==""&&(t="block");this.widget.authloginLabel.textContent=n;this.widget.authloginBlock.style.display=t};CloudParserWidget.prototype._initPagesBlockState=function(){if(this.pagingAvailable===!1)this.allPages=!1;else{var n=this._getCookie("cp_AllPages");this.allPages=typeof n=="undefined"||n==="true"?!0:!1}this.widget.pagesCheckbox.checked=this.allPages};CloudParserWidget.prototype._pagesCheckboxChanged=function(){this.allPages=this.widget.pagesCheckbox.checked;this._savePagesBlockState()};CloudParserWidget.prototype._savePagesBlockState=function(){var n=new Date;n.setYear(n.getFullYear()+1);document.cookie="cp_AllPages="+this.allPages+"; path=/; expires="+n.toUTCString()};CloudParserWidget.prototype._getParseUrl=function(n,t,i){var u=this._getParseAuthLogin(),r;return typeof u!="undefined"&&u||(u=""),r=this.frameDomainUrl+"/parse/startWidget?hostname="+location.hostname+"&autoStartLogin="+u+"&bookmarkletMode="+this.bookmarkletMode,typeof this.readFromCache!="undefined"&&this.readFromCache===!0&&(r=r+"&readFromCache=true"),n&&(r=r+"&div=true"),t&&(r=r+"&debug=true"),i&&(r=r+"&demo=true"),this.readFromCache===!1&&this.parseWithoutCacheSourceID&&(r=r+"&nocachesid="+this.parseWithoutCacheSourceID),r};CloudParserWidget.prototype._getHistoryUrl=function(){return this.frameDomainUrl+"/parse/openhistory?hostname="+location.hostname};CloudParserWidget.prototype._getSmallButtonText=function(){var n=Math.max(document.documentElement.clientWidth,window.innerWidth||0),t=this.mobile||n<=992;return t?"Товары":"Выгрузить товары"};CloudParserWidget.prototype._onResize=function(){try{var t=this,n=t._onResize;clearTimeout(n.timeoutId);n.timeoutId=setTimeout(function(){n.timeoutId=null;var i=t._getSmallButtonText();document.getElementById("cp_btn_text").innerText=i},100)}catch(i){}};CloudParserWidget.prototype._normalizeOptions=function(){typeof this.options!="undefined"&&this.options.position==="cp_btn_bottom"&&(this.options.position="cp_btn_bottom_left")};CloudParserWidget.prototype._getRoundedRating=function(n){if(n<=0)return 0;var t=Math.floor(n,0),i=n-t;return t+(i<.25?0:i<=.75?.5:1)};CloudParserWidget.prototype._removeJqStyler=function(){var i=10,n=this,t;if(n.removeJqStylerCount++,typeof jQuery!="undefined"&&typeof jQuery.fn!="undefined"&&jQuery.fn.styler!=="undefined")try{t=jQuery("#cp_widget__pages-checkbox");t&&t.parent().hasClass("jq-checkbox")&&(t.styler("destroy"),n.removeJqStylerCount=i)}catch(r){console.log(r)}n.removeJqStylerCount<i&&setTimeout(function(){n._removeJqStyler()},500)};CloudParserWidget.prototype._afterLoadEvents=function(){this._removeJqStyler()};cloudParser("cp_btn_left","deepskyblue",!1)

